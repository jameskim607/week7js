"use strict";(self.webpackChunkbug_tracker_client=self.webpackChunkbug_tracker_client||[]).push([[961],{2961:(e,t,r)=>{r.r(t),r.d(t,{default:()=>l});var i=r(2555),s=r(5043),a=r(579);const l=e=>{let{onSubmit:t,initialData:r,onCancel:l}=e;const[n,o]=(0,s.useState)({title:"",description:"",status:"open",priority:"medium",reporter:""}),[c,d]=(0,s.useState)({}),[p,u]=(0,s.useState)(!1);(0,s.useEffect)(()=>{r&&o({title:r.title||"",description:r.description||"",status:r.status||"open",priority:r.priority||"medium",reporter:r.reporter||""})},[r]);const m=e=>{const{name:t,value:r}=e.target;o(e=>(0,i.A)((0,i.A)({},e),{},{[t]:r})),c[t]&&d(e=>(0,i.A)((0,i.A)({},e),{},{[t]:""}))};return(0,a.jsxs)("form",{className:"bug-form",onSubmit:async e=>{if(e.preventDefault(),(()=>{const e={};return n.title.trim()?n.title.trim().length>200&&(e.title="Title cannot exceed 200 characters"):e.title="Title is required",n.description.trim()||(e.description="Description is required"),n.reporter.trim()||(e.reporter="Reporter name is required"),d(e),0===Object.keys(e).length})()){u(!0);try{await t(n),r||o({title:"",description:"",status:"open",priority:"medium",reporter:""}),d({})}catch(i){console.error("Form submission error:",i)}finally{u(!1)}}},"data-testid":"bug-form",children:[(0,a.jsx)("h2",{children:r?"Edit Bug":"Report New Bug"}),(0,a.jsxs)("div",{className:"form-group",children:[(0,a.jsxs)("label",{htmlFor:"title",children:["Title ",(0,a.jsx)("span",{className:"required",children:"*"})]}),(0,a.jsx)("input",{type:"text",id:"title",name:"title",value:n.title,onChange:m,className:c.title?"error":"",placeholder:"Enter bug title",maxLength:200,"data-testid":"title-input"}),c.title&&(0,a.jsx)("span",{className:"error-message",children:c.title})]}),(0,a.jsxs)("div",{className:"form-group",children:[(0,a.jsxs)("label",{htmlFor:"description",children:["Description ",(0,a.jsx)("span",{className:"required",children:"*"})]}),(0,a.jsx)("textarea",{id:"description",name:"description",value:n.description,onChange:m,className:c.description?"error":"",placeholder:"Describe the bug in detail",rows:5,"data-testid":"description-input"}),c.description&&(0,a.jsx)("span",{className:"error-message",children:c.description})]}),(0,a.jsxs)("div",{className:"form-row",children:[(0,a.jsxs)("div",{className:"form-group",children:[(0,a.jsx)("label",{htmlFor:"status",children:"Status"}),(0,a.jsxs)("select",{id:"status",name:"status",value:n.status,onChange:m,"data-testid":"status-select",children:[(0,a.jsx)("option",{value:"open",children:"Open"}),(0,a.jsx)("option",{value:"in-progress",children:"In Progress"}),(0,a.jsx)("option",{value:"resolved",children:"Resolved"}),(0,a.jsx)("option",{value:"closed",children:"Closed"})]})]}),(0,a.jsxs)("div",{className:"form-group",children:[(0,a.jsx)("label",{htmlFor:"priority",children:"Priority"}),(0,a.jsxs)("select",{id:"priority",name:"priority",value:n.priority,onChange:m,"data-testid":"priority-select",children:[(0,a.jsx)("option",{value:"low",children:"Low"}),(0,a.jsx)("option",{value:"medium",children:"Medium"}),(0,a.jsx)("option",{value:"high",children:"High"}),(0,a.jsx)("option",{value:"critical",children:"Critical"})]})]})]}),(0,a.jsxs)("div",{className:"form-group",children:[(0,a.jsxs)("label",{htmlFor:"reporter",children:["Reporter ",(0,a.jsx)("span",{className:"required",children:"*"})]}),(0,a.jsx)("input",{type:"text",id:"reporter",name:"reporter",value:n.reporter,onChange:m,className:c.reporter?"error":"",placeholder:"Your name","data-testid":"reporter-input"}),c.reporter&&(0,a.jsx)("span",{className:"error-message",children:c.reporter})]}),(0,a.jsxs)("div",{className:"form-actions",children:[(0,a.jsx)("button",{type:"button",onClick:l,className:"btn btn-secondary",disabled:p,children:"Cancel"}),(0,a.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:p,"data-testid":"submit-button",children:p?"Saving...":r?"Update Bug":"Create Bug"})]})]})}}}]);
//# sourceMappingURL=961.8be09ad0.chunk.js.map